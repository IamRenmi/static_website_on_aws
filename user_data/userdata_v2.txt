sudo yum update -y

sudo yum install php -y
sudo yum install php-mysqli -y
sudo yum install mariadb105 -y

sudo systemctl start httpd
sudo systemctl enable httpd

sudo systemctl start php-fpm
sudo systemctl enable php-fpm

sudo usermod -a -G apache ec2-user
sudo chown -R ec2-user:apache /var/www/html
sudo chown -R apache:apache /var/www/html

#mount EFS
sudo mount -t nfs4 -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport fs-020a682c5ba2f0fc3.efs.us-west-1.amazonaws.com:/ /var/www/html/

#ensure EFS fodler is mounted after a restart
sudo nano /etc/fstab
Append the following line to the end of the file and save it. Make sure to replace “fs-020a682c5ba2f0fc3.efs.us-west-1.amazonaws.com” with the DNS of your EFS folder. 
fs-020a682c5ba2f0fc3.efs.us-west-1.amazonaws.com:/ /var/www/html/ nfs defaults,_netdev 0 0

#download and unzip wordpress
wget https://wordpress.org/latest.zip
unzip latest.zip
sudo cp -R wordpress/* /var/www/html/

# Add RDS DB
mysql -h wp-db.cb7yjv0w5dmw.us-west-1.rds.amazonaws.com -P 3306 -u admin -p

create databases project;